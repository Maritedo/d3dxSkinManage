# 模组索引文件

## 背景

索引文件通常存储在 `./home/<userenv>/modsIndex/` 位置，
这里会有一个或多个 `.json` 文件，每一个文件夹都可以记录多个模组的信息，
于登录指定用户环境之后加载，循序不固定（多数情况下按照文件名排序），允许文件夹嵌套，
同时允许添加 `disabled` 作为文件名前缀表示不加载该文件或文件夹的内容。


## 格式

大部分情况下 `mods-index.json` 的内容如下：

```json
{
    "variable": {   // 变量表（可选）
        "key": "value",     // 将 mods / get / url 字符串中的 ($.key) 替换为 value
        ...
    },
    "update": {     // 更新 (可选)
        "url": "",      // 更新地址
        "mode": ""      // 获取方式，可选 get
    },
    "mods": {       // Mods 信息（必须）
        "SHA": {        // Mod 压缩包的 SHA
            "object": "",   // 作用对象
            "type": "",     // 压缩格式，可选 zip、7z 、rar
            "name": "",     // Mod 名称
            "author": "",   // Mod 作者的昵称
            "explain": "",  // 附加描述
            "grading": "",  // 年龄分级，可选 G、P、R、X
            "tags": [       // 标签
                "",             // 标签名称
                ...
            ],
            "get": [        // 获取，告诉程序这个 Mod 可以在哪里获取（可选）
                {               // 可设置多个获取地址，获取失败时使用下一个地址
                    "url": "",      // 获取地址
                    "mode": ""      // 获取方式，可选 get、lanzou
                }
            ]
        },
        ...
    }
}
```

